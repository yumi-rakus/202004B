<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
<title>ラクラクカリー -商品編集</title>
<link th:href="@{/css/bootstrap.css}" rel="stylesheet">
<link th:href="@{/css/curry.css}" rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.2/css/drawer.min.css">
<link th:href="@{/css/drawer.css}" rel="stylesheet">
<script src="//code.jquery.com/jquery-1.12.1.min.js"></script>
<script src="/js/calc.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.2.0/iscroll.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.2/js/drawer.min.js"></script>
<script src="/js/favorite.js"></script>

<script>
	jQuery(function($) {
		$(document).ready(function() {
			$('.drawer').drawer();
		});
	});
</script>
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body class="drawer drawer--left">

	<div class="container">
		<!-- ハンバーガー始め -->
		<button type="button" class="drawer-toggle drawer-hamburger">
			<span class="sr-only">toggle navigation</span> <span
				class="drawer-hamburger-icon"></span>
		</button>
		<nav class="drawer-nav" role="navigation">
			<ul class="drawer-menu">
				<li class="side-menu"><span style="font-weight: bold"> <span
						sec:authorize="isAuthenticated()"> <span
							sec:authentication="principal.user.name"></span>さん&nbsp;
					</span> <span sec:authorize="isAnonymous()"> <span>ゲストさん&nbsp;</span>
					</span>
				</span></li>
				<span sec:authorize="isAuthenticated()">
					<li class="side-menu"><a th:href="@{/mypage}"
						class="side-content">マイページ</a></li>
				</span>
				<li class="side-menu"><a href="item_list_curry.html"
					th:href="@{/edit-mypage}" class="side-content">ユーザ情報変更</a>&nbsp;&nbsp;</li>
				<li class="side-menu"><a href="cart_list.html"
					th:href="@{/favorite}" class="side-content">お気に入り</a>&nbsp;&nbsp;</li>
				<li class="side-menu"><a th:href="@{/pdf/allergy.pdf}"
					target="_blank" class="side-content">アレルギー情報</a>&nbsp;&nbsp;</li>
			</ul>
		</nav>
		<!-- ハンバーガー終わり -->
		<span th:include="fragment-part::frag_nav"></span>

		<form action="admin_item_list.html" th:action="@{/admin/editItem}"
			th:object="${updateItemForm}" method="post">

			<div class="row">
				<div class="col-xs-offset-2 col-xs-8">

					<h3 class="text-center">商品編集</h3>
					<br>
					<br>
					<div class="row">
						<div class="col-xs-5">
							<img th:src="@{'/img_curry/' + ${item.imagePath}}"
								class="img-responsive img-rounded item-img-center">
						</div>

						<div class="col-xs-5">
							<div class="bs-component">
								<!-- 商品名 -->
								<div class="form-group">
									<label for="inputName">商品名:</label> <label
										th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
										style="color: red" class="error-messages">入力してください</label> <input
										type="text" th:field="*{name}" id="inputName"
										class="form-control">
								</div>
								<br> <br>
								<!-- 商品説明 -->
								<div class="form-group">
									<label for="inputDescription">商品説明:</label> <label
										th:if="${#fields.hasErrors('description')}"
										th:errors="*{description}" style="color: red"
										class="error-messages">入力してください</label>
									<textarea rows="5" cols="50" th:field="*{description}"
										id="inputDescription" class="form-control"></textarea>
								</div>
								<br> <br>
								<!-- 価格（Mサイズ） -->
								<div class="form-group">

									<label for="inputPriceM">価格（Mサイズ）</label> <label
										th:if="${#fields.hasErrors('priceM')}" th:errors="*{priceM}"
										style="color: red" class="error-messages">入力してください</label>

									<div class="form-inline">
										<input type="number" th:field="*{priceM}" id="inputPriceM"
											class="form-control">円
									</div>

								</div>
								<!-- 価格（Lサイズ） -->
								<div class="form-group">

									<label for="inputPriceL">価格（Lサイズ）</label> <label
										th:if="${#fields.hasErrors('priceL')}" th:errors="*{priceL}"
										style="color: red" class="error-messages">入力してください</label>
									<div class="form-inline">
										<input type="number" th:field="*{priceL}" id="inputPriceL"
											class="form-control">円
									</div>

								</div>
								<br>
								<br>
								<div class="form-group">
									<input type="hidden" name="id" th:value="${item.id}"> <input
										class="form-control btn btn-warning btn-block" type="submit"
										id="itemEdit" value="更新">

								</div>
							</div>
						</div>
					</div>
					<br> <br> <br>

				</div>
			</div>

		</form>

	</div>
	<!-- end container -->
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>



	<script type="text/javascript">
		$(function() {
			$('#itemEdit').on('click', function() {
				$(this).prop('disabled', true);
				$('form').submit();
			});
		});
	</script>

</body>
</html>